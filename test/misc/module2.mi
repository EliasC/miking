
lang pmcore

-- First class modules

let other =
{ root.

  let m =
  { s1.
    pub let foo = 7
    let x = addi s1.foo 1   -- x evaluates to 8
  }

  let y = root.m.foo        -- y evaluates to 7
}


----------------------------

let m = {
  let pub foo = 7
  let x = addi foo 1   -- x evaluates to 8
}

let y = m.foo        -- y evaluates to 7
